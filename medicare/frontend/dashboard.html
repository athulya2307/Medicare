<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard - Medicare</title>
    <link rel="stylesheet" href="css/style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body class="dashboard-page">
    <!-- Top Navbar -->
    <nav class="top-navbar">
      <div class="nav-left">
        <i class="fas fa-heartbeat"></i>
        <span>Medicare Dashboard</span>
      </div>
      <div class="nav-right">
        <div class="user-profile">
          <img
            src="https://ui-avatars.com/api/?name=User&background=4f46e5&color=fff&size=40"
            alt="Profile"
            class="profile-img"
          />
          <span id="userName">User</span>
        </div>
        <button class="btn-logout">
          <i class="fas fa-sign-out-alt"></i> Logout
        </button>
      </div>
    </nav>

    <div class="dashboard-wrapper">
      <!-- LEFT Sidebar - Quick Actions -->
      <aside class="quick-actions-sidebar">
        <div class="sidebar-header">
          <h3><i class="fas fa-bolt"></i> Quick Actions</h3>
        </div>
        <nav class="quick-actions-nav">
          <a href="#" class="action-item" data-action="appointment">
            <i class="fas fa-calendar-plus"></i>
            <span>Book Appointment</span>
          </a>
          <a href="#" class="action-item" data-action="hospital">
            <i class="fas fa-map-marker-alt"></i>
            <span>Find Hospital</span>
          </a>
          <a href="#" class="action-item" data-action="report">
            <i class="fas fa-file-upload"></i>
            <span>Upload Report</span>
          </a>
          <a href="#" class="action-item" data-action="reminder">
            <i class="fas fa-plus"></i>
            <span>Add Reminder</span>
          </a>
        </nav>
      </aside>

      <!-- Main Content -->
      <main class="main-content">
        <!-- Welcome Header -->
        <header class="page-header">
          <h1 id="welcomeMsg">
            Welcome back! <span class="gradient-text">ðŸ‘‹</span>
          </h1>
          <p>Here's what's happening with your health today</p>
        </header>

        <!-- Stats Cards -->
        <section class="stats-section">
          <div class="stats-grid">
            <div class="stat-card primary">
              <div class="stat-icon">
                <i class="fas fa-weight-hanging"></i>
              </div>
              <div class="stat-numbers">
                <h3>22.5</h3>
                <p>BMI <span>(Normal)</span></p>
              </div>
            </div>
            <div class="stat-card success">
              <div class="stat-icon">
                <i class="fas fa-tint"></i>
              </div>
              <div class="stat-numbers">
                <h3>2</h3>
                <p>Upcoming<br />Appointments</p>
              </div>
            </div>
            <div class="stat-card warning">
              <div class="stat-icon">
                <i class="fas fa-bell"></i>
              </div>
              <div class="stat-numbers">
                <h3>3</h3>
                <p>Pending<br />Reminders</p>
              </div>
            </div>
          </div>
        </section>

        <!-- Health Metrics -->
        <section class="metrics-section">
          <div class="metrics-card">
            <div class="card-header">
              <h2><i class="fas fa-chart-bar"></i> Update Health Metrics</h2>
              <button class="btn-clear">Clear All</button>
            </div>
            <form class="metrics-form">
              <div class="metrics-grid">
                <div class="metric-input">
                  <label
                    ><i class="fas fa-weight-hanging"></i> Weight (kg)</label
                  >
                  <input
                    type="number"
                    value="65.5"
                    step="0.1"
                    class="input-metric"
                  />
                </div>
                <div class="metric-input">
                  <label
                    ><i class="fas fa-ruler-vertical"></i> Height (cm)</label
                  >
                  <input
                    type="number"
                    value="165"
                    step="0.1"
                    class="input-metric"
                  />
                </div>
                <div class="metric-input">
                  <label><i class="fas fa-tint"></i> Blood Sugar (mg/dL)</label>
                  <input
                    type="number"
                    value="95"
                    step="0.1"
                    class="input-metric"
                  />
                </div>
                <div class="metric-input">
                  <label
                    ><i class="fas fa-heart"></i> BP (Systolic/Diastolic)</label
                  >
                  <input type="text" value="120/80" class="input-metric" />
                </div>
              </div>

              <div class="bmi-preview">
                <div class="bmi-circle normal">
                  <div class="bmi-display">
                    <span class="bmi-value" id="bmiValue">22.5</span>
                    <span class="bmi-label">Normal BMI</span>
                  </div>
                </div>
              </div>

              <div class="form-actions">
                <button type="submit" class="btn-primary btn-large">
                  <i class="fas fa-save"></i> Save Metrics
                </button>
              </div>
            </form>
          </div>
        </section>
      </main>
    </div>

    <script src="js/dashboard.js"></script>
    <!-- Add this script at END of dashboard.html (before </body>) -->
    <script src="js/dashboard.js"></script>
    <script>
      // âœ… Show ZERO values for new users
      document.addEventListener("DOMContentLoaded", function () {
        const user = JSON.parse(localStorage.getItem("medicare_user") || "{}");
        if (
          user.metrics &&
          Object.values(user.metrics).every((val) => val === 0)
        ) {
          // New user - populate ZERO values
          document.querySelectorAll(".input-metric").forEach((input, index) => {
            input.value = 0;
          });
          document.querySelector('input[type="text"]').value = "0/0";
          document.getElementById("bmiValue").textContent = "0.0";
          document.querySelector(".bmi-label").textContent =
            "Enter metrics to calculate";
        }
      });
    </script>
  </body>
</html>
